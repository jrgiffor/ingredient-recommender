<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- Thank your Martin Sagastume for providing live search code -->
<!-- Things to do:
  --   1) Create an "Add Ingredient" button
  --   Upon being pressed for the first time:
  --     - Create a new combination with a generated name
  --     - Add the ingredient displayed in the search to the combination
  --   For every ingredient added after that: 
  --     - Add the ingredient displayed in the search to the combination
  --   2) Create a "Recommendation" page that echoes out said combination
  --     - Allow users to rename their combination if they are logged in
  --   3) Create a "Recommend" button that takes you to the "Recommendation" page
  -->
{{include 'web2py_ajax.html'}}

<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Find delicious ingredients!</title>

	<style type="text/css">
    <!--
	body {
		color:black;
		background-color: #FFFFD6;
		font-family: 'McLaren', serif;
		font-size: 18px;
	}
	h1{
		font-size: 46px;
		font-family: 'Fanwood Text', serif;
		text-align: center;
	}
	h3{
		font-style: italic;
		text-decoration: underline;	
	}
	a{
		color:#000000;
	}
	a:visited{
		color:#D8D8D8;
	}
	#topbanner{
		background-color:#FFD6AD;
		width: 85%;
		height: 20%;
		border: 5px;
		border-style: solid;
		border-color: black;
		border-radius: 15px 15px 15px 15px;
		z-index:-1;
		float: left;
	}
	#toolbars{
		text-align: center;
		padding:1px;
		width:13%;
		float: left;
			position: relative;
	}
	#loginbar{
				
		border: 2px;
		border-style:solid;
		border-radius: 15px;
			
		color: black;
		background-color: yellow;

	}
	#settingsbar{
		border: 2px;
		border-style:solid;
		border-radius: 15px;
			
		color: black;
		background-color: red;
		}
	#contentsbar{
		display: block;
		background-color: black;
		text-align: center;
		position: relative;
	}
	#favorites{
		width:32%;
		float:left;
		background-color: purple;
		border: 2px;
		border-style: solid;
		border-color: black;
		border-radius: 15px 15px 15px 15px;
		display:block;
	}
	#upcoming{
		width:32%;
		float:left;
		background-color: purple;
		border: 2px;			
		border-style: solid;
		border-color: black;			
		border-radius: 15px 15px 15px 15px;
		display:block;
	}
	#delicious{
		width:32%;
		float:left;
		background-color: purple;
		border: 2px;
		border-style: solid;
		border-color: black;
		border-radius: 15px 15px 15px 15px;
		display:block;
	}
	#ingredientsbox{		
		background-color:#FFD6AD;
		width:50%;
		height:35%;
		top:25%;
		left:7.5%;
		position: fixed;
		border: 10px;
		border-style: solid;
		border-color: black;
		border-radius: 15px 15px 15px 15px;
	}
	#listingredientsbox{
		width:40%;
		height:70%;
		top:10%;
		left:55%;
		position: relative;
		border: 1px;
		border-style: solid;
		border-color: black;
	}
	
	#recommend{
		background-color:blue;
		position: fixed;
		top:60%;
		left:7.5%;
		height:7.5%;
		width:50%;
		border: 10px;
		border-style: solid;
		border-color: black;
		border-radius: 15px 15px 15px 15px;			
	}

	}
	ul{
		list-style-type: none;
		margin-left: 0px;
		padding: 5px;
	}
    #ajaxresults{
        background: #ffffff;
        padding: 5px 10px;
        max-height: 400px;
        overflow: auto;
        position: absolute;
        z-index: 99;
        border: 1px solid #A9A9A9;
        border-width: 0 1px 1px 1px;
        -webkit-box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.3);
        -moz-box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.3);
        -box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.3);
    }
    #ajaxresults a{
        color:#666666;
    }
    input[type=text]{
        font-size:12px;
        color:#666666;
        background-color:#ffffff;
        padding-top:5px;
		position: relative;
		left:1%;
        width:98%;
        height:5%;
        border:1px solid #999999;
    }
    //-->
    </style>
	
    <script type="text/javascript" src="{{=URL(r=request,c='static',f='jquery.js')}}"></script>
    <script type="text/javascript">
    jQuery(document).ready(function(){
        hide();
    });

    function getData(value){
        if(value != ""){
            $("#ajaxresults").show();
            $.post("{{=URL(r=request,f='ajaxlivesearch')}}",{partialstr:value},function(result){
                $("#ajaxresults").html(result);
            });
        }else{
            hide();
        }
    }

    function hide(){
        $("#ajaxresults").hide();
    }

    function copyToBox(value){
        $("#ingredients").val(value);
        hide();
    }   
    </script>
			<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
	<div id="topbanner">
			<h1>Ingredient Recommender</h1>
	</div>
	<div id="toolbars">
			<div id="loginbar">
			<p><a href="login.html">Login</a></p>
			</div>

			<div id="settingsbar">
			<p><a href="settings.html">Settings</a></p>
			</div>
	</div>
	<div id="contentsbar"> 
			<div id="favorites">
				<h3><a href="favorites.html">Favorites</a></h3>
			</div>
			<div id="upcoming">
				<h3><a href="upcoming.html">Upcoming</a></h3>
			</div>
			<div id="delicious">
				<h3><a href="delicious.html">Delicious</a></h3>
			</div>
	</div>
	<div id="recommend">
		<h2>Recommend</h2>
	</div>
	<div id="ingredientsbox">
		<label for="ingredient">Search ingredients:</label><br />
		<input type="text" id="ingredient" name="ingredient" autocomplete="off" onkeyup="getData(this.value);" /><br />
		<div id="ajaxresults"></div>
		<div id="listingredientsbox">list of ingredients</div>
	</div>
</body>
</html>
